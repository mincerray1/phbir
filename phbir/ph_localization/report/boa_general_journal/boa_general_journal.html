<h2 class="text-center">{%= __("General Journal") %}</h2>
<!-- erpnext.get_currency(frappe.defaults.get_default("company")) -->
{% let currency = erpnext.get_currency(filters.company) %}
<h6 class="text-left">
    <div>
        <span>Company:</span>
        <span class="ml-4">{%= filters.company %}</span>
        <span class="ml-4">{%= currency %}</span>
    </div>
    <!-- <div>
        <span>Address</span>
        <span class="ml-4"></span>
    </div> -->
    <!-- <div>
        <span>TIN:</span>
        <span class="ml-4">{%= frappe.db.get_value("Company", frappe.defaults.get_default("company"), "tax_id") %}</span>
    </div> -->
    <div>
        {%= __("Period Covered: ")%}
        {%= frappe.datetime.str_to_user(filters.from_date) %}
        {%= __("to") %}
        {%= frappe.datetime.str_to_user(filters.to_date) %}
    </div>
</h6>

<hr>
<table class="table table-bordered" style="font-size: 0.8em">
	<thead>
		<tr>
			<th style="width: 8%">{%= __("Date") %}</th>
			<th style="width: 12%">{%= __("Reference Type") %}</th>
			<th style="width: 15%">{%= __("Reference") %}</th>
			<th style="width: 20%">{%= __("Brief Description/Explanation") %}</th>
            <th style="width: 10%">{%= __("Account Code") %}</th>
            <th style="width: 15%">{%= __("Account Name") %}</th>
            
			<th style="width: 10%">{%= __("Debit") %}</th>
			<th style="width: 10%">{%= __("Credit") %}</th>
		</tr>
	</thead>
	<tbody>
        {% let sum_debit = 0, sum_credit = 0 %}
        {% console.log(JSON.stringify(data)) %}
		{% for(var i=0, l=data.length; i<l; i++) { %}
            {% if(!data[i].is_total_row) { %}
			    <tr>
                    <td>{%= frappe.datetime.str_to_user(data[i].posting_date) %}</td>
                    <td>{%= data[i].voucher_type %}</td>
                    <td>{%= data[i].voucher_no %}</td>
                    <td>{%= data[i].remarks %}</td>
                    <td>{%= data[i].account_number %}</td>
                    <td>{%= data[i].account_name %}</td>

                    <td style="text-align: right">{%= format_currency(data[i].debit, currency) %}</td>
                    <td style="text-align: right">{%= format_currency(data[i].credit, currency) %}</td>

                    {% sum_debit = sum_debit + data[i].debit %}
                    {% sum_credit = sum_credit + data[i].credit %}
                </tr>
            {% } %}
		{% } %}
    </tbody>
    <tfoot>
        <tr>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td style="text-align: right"><strong>Grand Total</strong></td>
            <td style="text-align: right"><strong>{%= format_currency(sum_debit, currency) %}</strong></td>
            <td style="text-align: right"><strong>{%= format_currency(sum_credit, currency) %}</strong></td>
        </tr>
    </tfoot>
</table>

<p class="text-right text-muted">Printed On {%= frappe.datetime.str_to_user(frappe.datetime.get_datetime_as_string()) %}</p>